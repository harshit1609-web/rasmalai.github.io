<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>New Year</title>

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    height: 100vh;
    background: radial-gradient(circle at top, #1b1b2f, #0f0f17);
    font-family: "Segoe UI", sans-serif;
    color: #f2f2f2;
    overflow: hidden;
  }

  canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
  }

  .screen {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1;
  }

  .card {
    text-align: center;
    padding: 50px;
    max-width: 560px;
    border-radius: 24px;
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(14px);
    box-shadow: 0 30px 60px rgba(0,0,0,0.45);
    animation: fadeIn 1.6s ease;
  }

  h1 { font-size: 2.2rem; margin-bottom: 15px; }
  h2 { font-weight: 400; opacity: 0.9; margin-bottom: 25px; }
  p  { font-size: 1.05rem; line-height: 1.7; opacity: 0.85; }

  button {
    margin-top: 35px;
    padding: 12px 34px;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    background: rgba(255,255,255,0.15);
    color: white;
    font-size: 0.95rem;
    transition: 0.3s ease;
  }

  button:hover { background: rgba(255,255,255,0.25); }

  .hidden { display: none; }

  .signature {
    margin-top: 30px;
    font-size: 0.9rem;
    opacity: 0.6;
  }

  #musicBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 5;
    background: rgba(255,255,255,0.15);
    border: none;
    border-radius: 50%;
    padding: 12px;
    cursor: pointer;
    color: white;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(25px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<!-- ðŸŽµ Background Music -->
<audio id="bgMusic" loop>
  <source src="your-music-file.mp3" type="audio/mpeg">
</audio>

<button id="musicBtn" onclick="toggleMusic()">ðŸ”ˆ</button>

<!-- SCREEN 1 -->
<div class="screen" id="screen1">
  <div class="card">
    <h2>Before 2026 beginsâ€¦</h2>
    <p>
      Someone wanted to wish you<br>
      in a different way.
    </p>
    <button onclick="goToScreen(2)">Continue</button>
  </div>
</div>

<!-- SCREEN 2 -->
<div class="screen hidden" id="screen2">
  <div class="card">
    <p>
      And you know he loves you more than you realize.<br>
      And I hope you love him as well.
      <br><br>
      If so, then continue.
    </p>
    <button onclick="goToScreen(3)">Continue</button>
  </div>
</div>

<!-- SCREEN 3 -->
<div class="screen hidden" id="screen3">
  <div class="card">
    <h1 id="typing"></h1>

    <p id="timeMessage" style="margin-bottom:25px;"></p>

    <p>
      Some people deserve more than just a text â€”<br>
      so I wrote this instead.
    </p>

    <div class="signature">â€” Harshit</div>
  </div>
</div>

<script>
  /* ---------- MUSIC ---------- */
  const music = document.getElementById("bgMusic");
  const musicBtn = document.getElementById("musicBtn");

  function startMusic() {
    music.volume = 0.25;
    music.play().catch(() => {});
    musicBtn.innerText = "ðŸ”Š";
  }

  function toggleMusic() {
    if (music.paused) {
      music.play();
      musicBtn.innerText = "ðŸ”Š";
    } else {
      music.pause();
      musicBtn.innerText = "ðŸ”ˆ";
    }
  }

  /* ---------- SCREEN CONTROL ---------- */
  function goToScreen(n) {
    document.querySelectorAll(".screen").forEach(s => s.classList.add("hidden"));
    document.getElementById("screen" + n).classList.remove("hidden");

    if (n === 2) startMusic();
    if (n === 3) typeText();
  }

  /* ---------- TIME MESSAGE ---------- */
  const now = new Date();
  const midnight = new Date();
  midnight.setHours(0,0,0,0);

  document.getElementById("timeMessage").innerText =
    now < midnight ? "A few moments leftâ€¦" : "Welcome to the New Year âœ¨";

  /* ---------- TYPING ---------- */
  const text = "Happy New Year, Rasmalaiii âœ¨";
  let index = 0;

  function typeText() {
    if (index < text.length) {
      document.getElementById("typing").innerHTML += text.charAt(index);
      index++;
      setTimeout(typeText, 90);
    }
  }

  /* ---------- FIREWORKS ---------- */
  const canvas = document.getElementById("fireworks");
  const ctx = canvas.getContext("2d");

  function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
  }
  resize();
  window.addEventListener("resize", resize);

  const particles = [];

  function createFirework() {
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height * 0.5;
    for (let i = 0; i < 40; i++) {
      particles.push({
        x, y,
        angle: Math.random() * Math.PI * 2,
        speed: Math.random() * 2 + 0.5,
        life: 100
      });
    }
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach((p, i) => {
      p.x += Math.cos(p.angle) * p.speed;
      p.y += Math.sin(p.angle) * p.speed;
      p.life--;
      ctx.globalAlpha = p.life / 100;
      ctx.fillStyle = "white";
      ctx.beginPath();
      ctx.arc(p.x, p.y, 1.5, 0, Math.PI * 2);
      ctx.fill();
      if (p.life <= 0) particles.splice(i, 1);
    });
    requestAnimationFrame(animate);
  }

  setInterval(createFirework, 1800);
  animate();
</script>

</body>
</html>
